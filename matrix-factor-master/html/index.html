<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>sym-ildl: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">sym-ildl
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Incomplete LDL&#39; factorizations of indefinite symmetric matrices.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Main Page </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="intro_sec"></a>
Introduction</h1>
<p><b>sym-ildl</b> is a C++ package for producing fast incomplete factorizations of symmetric indefinite matrices. Given an <img class="formulaInl" alt="$n\times n$" src="form_17.png"/> symmetric indefinite matrix <img class="formulaInl" alt="$\mathbf{A}$" src="form_0.png"/>, this package produces an incomplete <img class="formulaInl" alt="$\mathbf{LDL^{T}}$" src="form_23.png"/> factorization. Prior to factorization, this package first scales the matrix to be equilibriated in the max-norm, and then preorders the matrix using the Reverse Cuthill-McKee (RCM) algorithm. To maintain stability, we use Bunch-Kaufman partial pivoting during the factorization process. The factorization produced is of the form </p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ \mathbf{P^{T}SASP=LDL^{T}}. \]" src="form_24.png"/>
</p>
<p> where <img class="formulaInl" alt="$\mathbf{P}$" src="form_2.png"/> is a permutation matrix, <img class="formulaInl" alt="$\mathbf{S}$" src="form_3.png"/> a scaling matrix, and <img class="formulaInl" alt="$\mathbf{L}$" src="form_4.png"/> and <img class="formulaInl" alt="$\mathbf{D}$" src="form_5.png"/> are the unit lower triangular and diagonal factors respectively.</p>
<h1><a class="anchor" id="quick_start"></a>
Quick Start</h1>
<p>To begin using the package, first download the files hosted at <a href="https://github.com/inutard/matrix-factor">https://github.com/inutard/matrix-factor</a>. The package works under most Unix distributions as well as Cygwin under Windows. The default compiler used is <code>gcc</code>, simply type <code>make</code> at the command line to compile the entire package. Currently this package has only been tested for <code>gcc-4.6.1</code> and above. In addition to <a class="el" href="index.html#ldl_driver">usage as a standalone program</a>, the package also has a <a class="el" href="index.html#matlab_mex">Matlab interface</a>.</p>
<h2><a class="anchor" id="ldl_driver"></a>
Using the package as a standalone program</h2>
<p>The compiled program <code>ldl_driver</code> takes in (through the command line) three parameters as well as two optional ones.</p>
<p>The format of execution is: </p>
<div class="fragment"><div class="line">./ldl_driver [in.mtx] [fill_factor] [tol] [save] [display]</div>
</div><!-- fragment --><p>The parameters are listed below: </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">in.mtx</td><td>The filename of the matrix to be loaded. Several test matrices exist in the test_matrices folder. All matrices loaded are required to be in matrix market (.mtx) form.</td></tr>
    <tr><td class="paramname">fill_factor</td><td>A parameter to control memory usage. Each column is guaranteed to have fewer than <img class="formulaInl" alt="$fill\_factor\cdot nnz(\mathbf{A})/n$" src="form_22.png"/> elements. When this argument is not given, the default value for <code>fill_factor</code> is <code>1.0</code>.</td></tr>
    <tr><td class="paramname">tol</td><td>A parameter to control agressiveness of dropping. In each column k, elements less than <img class="formulaInl" alt="$tol \cdot \left|\left|\mathbf{L}_{k+1:n,k}\right|\right|_1$" src="form_19.png"/> are dropped. The default value for <code>tol</code> is <code>0.001</code>.</td></tr>
    <tr><td class="paramname">save</td><td>A flag indicating whether the output matrices should be saved. <code>-y</code> indicates yes, <code>-n</code> indicates no. The default flag is <code>-y</code>. All matrices are saved in matrix market (.mtx) form. The matrices are saved into an external folder named <code>output_matrices</code>. There are five saved files: <code>outA.mtx, outL.mtx, outD.mtx, outS.mtx</code>, and <code>outP.mtx</code>. <code>outB.mtx</code> is the matrix <img class="formulaInl" alt="$\mathbf{B=P^{T}SASP}$" src="form_21.png"/>. The rest of the outputs should be clear from the description above.</td></tr>
    <tr><td class="paramname">display</td><td>A flag indicating whether the output matrices should be displayed to the command line. <code>-y</code> indicates yes, <code>-n</code> indicates no. The default flag is <code>-n</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Examples:</dt><dd>Suppose we wish to factor the <code>aug3dcqp</code> matrix stored in <code>test_matrices/aug3dcqp.mtx</code>. Using the parameters described above, the execution of the program may go something like this: <div class="fragment"><div class="line">./ldl_driver test_matrices/aug3dcqp.mtx 1.0 0.001 -y -y</div>
<div class="line"></div>
<div class="line">Load succeeded. File test_matrices/aug3dcqp.mtx was loaded.</div>
<div class="line">A is 35543 by 35543 with 77829 non-zeros.</div>
<div class="line">The reordering took 0.108006 seconds.</div>
<div class="line">The factorization took 0.101006 seconds.</div>
<div class="line">L is 35543 by 35543 with 143512 non-zeros.</div>
<div class="line">Saving matrices...</div>
<div class="line">Save complete.</div>
</div><!-- fragment --> The code above factors the <code>aug3dcqp.mtx</code> matrix (<code>lfil=1.0, tol=0.001</code>) from the <code>test_matrices</code> folder, displays the full factorization (L and D) to terminal, and saves the outputs. The time it took to pre-order and equilibriate the matrix (0.108s) as well as the actual factorization (0.101s) are also given.</dd></dl>
<dl class="section user"><dt></dt><dd>The program may also run without the last two arguments: <div class="fragment"><div class="line">./ldl_driver test_matrices/aug3dcqp.mtx 1.0 0.001</div>
<div class="line"></div>
<div class="line">Load succeeded. File test_matrices/aug3dcqp.mtx was loaded.</div>
<div class="line">A is 35543 by ...</div>
</div><!-- fragment --> This code uses the default flags <code>-y -n</code> for the last two arguments, resulting in the outputs being saved, but not displayed to the terminal.</dd></dl>
<dl class="section user"><dt></dt><dd>Finally, we may use all optional arguments: <div class="fragment"><div class="line">./ldl_driver test_matrices/aug3dcqp.mtx</div>
<div class="line"></div>
<div class="line">Load succeeded. File test_matrices/aug3dcqp.mtx was loaded.</div>
<div class="line">A is 35543 by ...</div>
</div><!-- fragment --> The code above would use the default arguments <code>1.0 0.001 -y -n</code>.</dd></dl>
<h2><a class="anchor" id="matlab_mex"></a>
Using the package within Matlab</h2>
<p>If everything is compiled correctly, simply open Matlab in the package directory. The <code>startup.m</code> script adds all necessary paths to Matlab upon initiation. The program can now be called by its function handle, <code>ildl</code>.</p>
<p><code>ildl</code> takes in three arguments, two of them being optional. The parameters are listed below: </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">A</td><td>The matrix to be factored.</td></tr>
    <tr><td class="paramname">fill_factor</td><td>A parameter to control memory usage. Each column is guaranteed to have fewer than <img class="formulaInl" alt="$fill\_factor\cdot nnz(\mathbf{A})/n$" src="form_22.png"/> elements. When this argument is not given, the default value for <code>fill_factor</code> is <code>1.0</code>.</td></tr>
    <tr><td class="paramname">tol</td><td>A parameter to control agressiveness of dropping. In each column k, elements less than <img class="formulaInl" alt="$tol \cdot \left|\left|\mathbf{L}_{k+1:n,k}\right|\right|_1$" src="form_19.png"/> are dropped. The default value for <code>tol</code> is <code>0.001</code>.</td></tr>
  </table>
  </dd>
</dl>
<p>As with the standalone executable, the function has five outputs: <code>L, D, p, S,</code> and <code>B:</code> </p>
<dl class="section return"><dt>Returns</dt><dd><b>L</b> Unit lower triangular factor of <img class="formulaInl" alt="$\mathbf{P^{T}SASP}$" src="form_25.png"/>. </dd>
<dd>
<b>D</b> Block diagonal factor (consisting of 1x1 and 2x2 blocks) of <img class="formulaInl" alt="$\mathbf{P^{T}SASP}$" src="form_25.png"/>. </dd>
<dd>
<b>p</b> Permutation vector containing permutations done to <img class="formulaInl" alt="$\mathbf{A}$" src="form_0.png"/>. </dd>
<dd>
<b>S</b> Diagonal scaling matrix that equilibrations <img class="formulaInl" alt="$\mathbf{A}$" src="form_0.png"/> in the max-norm. </dd>
<dd>
<b>B</b> Permuted and scaled matrix <img class="formulaInl" alt="$\mathbf{B=P^{T}SASP}$" src="form_21.png"/> after factorization.</dd></dl>
<dl class="section user"><dt>Examples:</dt><dd>Before we begin, let's first generate some symmetric indefinite matrices: <div class="fragment"><div class="line">&gt;&gt; B = sparse(gallery(<span class="stringliteral">&#39;uniformdata&#39;</span>,10,0));</div>
<div class="line">&gt;&gt; A = [speye(10) B; B&#39; sparse(10, 10)];</div>
</div><!-- fragment --> The <code>A</code> generated is a special type of matrix called a KKT matrix. These matrices are indefinite and arise often in optimzation problems. Note that A must be a Matlab <b>sparse</b> matrix.</dd></dl>
<dl class="section user"><dt></dt><dd>To factor the matrix, we supply <code>ildl</code> with the parameters described above: <div class="fragment"><div class="line">&gt;&gt; [L, D, p, S, B] = ildl(A, 1.0, 0.001);</div>
<div class="line">The reordering took 0.000109 seconds.</div>
<div class="line">The factorization took 0.000456 seconds.</div>
<div class="line">L is 20 by 20 with 165 non-zeros.</div>
</div><!-- fragment --> As we can see above, <code>ildl</code> will supply some timing information to the console when used. The reordering time is the time taken to equilibriate and preorder the matrix. The factorization time is the time it took to factor and pivot the matrix with partial pivoting.</dd></dl>
<dl class="section user"><dt></dt><dd>We may also take advantage of the optional parameters and simply feed <code>ildl</code> only one parameter: <div class="fragment"><div class="line">&gt;&gt; [L, D, p, S, B] = ildl(A);</div>
<div class="line">The reordering took 0.000109 seconds.</div>
<div class="line">The factorization took 0.000456 seconds.</div>
<div class="line">L is 20 by 20 with 165 non-zeros.</div>
</div><!-- fragment --></dd></dl>
<h1><a class="anchor" id="refs"></a>
References</h1>
<ol type="1">
<li>J. A. George and J. W-H. Liu, <em>Computer Solution of Large Sparse Positive Definite Systems</em>, Prentice-Hall, 1981.</li>
<li>J. R. Bunch, <em>Equilibration of Symmetric Matrices in the Max-Norm</em>, JACM, 18 (1971), pp. 566-572.</li>
<li>N. Li and Y. Saad, <em>Crout versions of the ILU factorization with pivoting for sparse symmetric matrices</em>, ETNA, 20 (2006), pp. 75-85.</li>
<li>N. Li, Y. Saad, and E. Chow, <em>Crout versions of ILU for general sparse matrices</em>, SISC, 25 (2003), pp. 716-728. </li>
</ol>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Aug 10 2013 00:41:21 for sym-ildl by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.4
</small></address>
</body>
</html>
